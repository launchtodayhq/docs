---
title: "Mobile Integration"
description: "React Native file upload components and usage"
---

# Mobile Integration

## Required Packages

```bash
npx expo install expo-image-picker expo-media-library expo-document-picker
```

## Permissions

Add to `app.config.ts`:

```typescript
ios: {
  infoPlist: {
    NSPhotoLibraryUsageDescription: "This app needs access to your photo library to upload images.",
  },
},
plugins: [
  ["expo-image-picker", {
    photosPermission: "This app needs access to your photo library to upload images."
  }],
  ["expo-media-library", {
    photosPermission: "This app needs access to your photo library to show recent photos.",
    isAccessMediaLocationEnabled: true
  }],
],
```

## Usage

The file upload screen is located at `app/file-uploads/s3.tsx`.

### Key Features

- **Recent photos grid** - Shows last 15 photos from device
- **Multi-select** - Tap to select, tap again to deselect
- **Numbered indicators** - Selection order shown on thumbnails
- **Document picker** - Add PDFs and other files
- **Progress tracking** - Shows upload percentage in button
- **Staggered animations** - Smooth fade-in for photo grid

### Upload Flow

1. User selects files (photos and/or documents)
2. App calls `upload.requestUploadUrl` for each file
3. App uploads directly to S3 using presigned URL
4. App calls `upload.confirmUpload` to finalize
5. Success alert shown to user

### Customization

**Change photo grid size:**

```typescript
const PHOTO_SIZE = 80; // Adjust thumbnail size
```

**Change number of recent photos:**

```typescript
const { assets } = await MediaLibrary.getAssetsAsync({
  first: 15, // Increase for more photos
  mediaType: "photo",
});
```

**Add video support:**

```typescript
mediaType: ["photo", "video"],
```

## Error Handling

- MIME type validation errors
- File size exceeded errors
- Storage quota exceeded errors
- Network/upload failures
