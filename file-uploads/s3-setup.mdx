---
title: "S3 Setup"
description: "Configure AWS S3 for secure file uploads"
---

# AWS S3 Setup

## Prerequisites

- AWS account
- IAM user with S3 permissions
- S3 bucket created

## Environment Variables

Add these to your backend `.env`:

```bash
S3_BUCKET=your-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=AKIA...
S3_SECRET_ACCESS_KEY=...
```

## Create S3 Bucket

- Create a new S3 bucket in your preferred region
- Keep "Block all public access" enabled
- Enable versioning (recommended)
- Enable server-side encryption (SSE-S3 or SSE-KMS)

## IAM Policy

Create an IAM user with this policy:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": ["s3:PutObject", "s3:GetObject", "s3:DeleteObject"],
      "Resource": "arn:aws:s3:::your-bucket-name/*"
    }
  ]
}
```

## CORS Configuration

Configure CORS on your bucket:

```json
[
  {
    "AllowedHeaders": ["*"],
    "AllowedMethods": ["PUT", "GET"],
    "AllowedOrigins": ["*"],
    "ExposeHeaders": ["ETag"]
  }
]
```

<Note>
  For production, replace `"AllowedOrigins": ["*"]` with your specific domains.
</Note>

## Bucket Hardening Checklist

- [ ] Block all public access enabled
- [ ] Server-side encryption enabled
- [ ] Bucket versioning enabled
- [ ] Access logging enabled
- [ ] Lifecycle rules for old files (optional)
